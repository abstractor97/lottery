var __reflect=this&&this.__reflect||function(e,t,n){e.__class__=t,n?n.push(t):n=[t],e.__types__=e.__types__?n.concat(e.__types__):n},__extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__awaiter=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function a(e){try{c(i.next(e))}catch(t){r(t)}}function s(e){try{c(i["throw"](e))}catch(t){r(t)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}c((i=i.apply(e,t||[])).next())})},__generator=this&&this.__generator||function(e,t){function n(e){return function(t){return i([e,t])}}function i(n){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,r&&(a=r[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(r,n[1])).done)return a;switch(r=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,r=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(a=c.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){c.label=n[1];break}if(6===n[0]&&c.label<a[1]){c.label=a[1],a=n;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(n);break}a[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(i){n=[6,i],r=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,r,a,s,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),"throw":n(1),"return":n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},ResourceProxyBase=function(e){function t(t){void 0===t&&(t="");var n=e.call(this,t)||this;return n._dataMap=new Array,n._proxyName="",n._proxyName=t,n}return __extends(t,e),t.prototype.getData=function(){var e=RES.getRes(this._proxyName);return e},t}(puremvc.Proxy);__reflect(ResourceProxyBase.prototype,"ResourceProxyBase",["puremvc.IProxy","puremvc.INotifier"]);var Mylist=function(e){function t(){return e.call(this)||this}return __extends(t,e),t}(eui.List);__reflect(Mylist.prototype,"Mylist");var Main=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isThemeLoadEnd=!1,t.isResourceLoadEnd=!1,t}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this);var t=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",t),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),game.LayerManager.getInstance().init(),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json?v="+GameConfig.RES_VERSION,"resource/")},t.prototype.onConfigComplete=function(e){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this);var t=new eui.Theme("resource/default.thm.json?v="+GameConfig.THM_VERSION,this.stage);t.addEventListener(eui.UIEvent.COMPLETE,this.onThemeLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.loadGroup("loading")},t.prototype.onThemeLoadComplete=function(){this.isThemeLoadEnd=!0,this.createScene()},t.prototype.onResourceLoadComplete=function(e){switch(e.groupName){case"loading":this.loadingView=new LoadingUI,GameConfig.curStage.addChild(this.loadingView),RES.loadGroup("preload");break;case"preload":Tools.removeFromParent(this.loadingView),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),this.isResourceLoadEnd=!0,this.createScene()}},t.prototype.createScene=function(){this.isThemeLoadEnd&&this.isResourceLoadEnd&&this.createGameScene()},t.prototype.onItemLoadError=function(e){console.warn("Url:"+e.resItem.url+" has failed to load")},t.prototype.onResourceLoadError=function(e){console.warn("Group:"+e.groupName+" has failed to load"),this.onResourceLoadComplete(e)},t.prototype.onResourceProgress=function(e){"preload"==e.groupName&&this.loadingView.setProgress(e.itemsLoaded,e.itemsTotal)},t.prototype.createGameScene=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(t){return e=new Page1,this.addChild(e),[2]})})},t}(eui.UILayer);__reflect(Main.prototype,"Main");var ThemeAdapter=function(){function e(){}return e.prototype.getTheme=function(e,t,n,i){function o(e){t.call(i,e)}function r(t){t.resItem.url==e&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),n.call(i))}RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),RES.getResByUrl(e,o,this,RES.ResourceItem.TYPE_TEXT)},e}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var WaitPanel=function(e){function t(t){void 0===t&&(t=1);var n=e.call(this)||this;return n.bg=new egret.Sprite,n.w=0,n.h=0,n.createView(),n}return __extends(t,e),t.prototype.createView=function(){this.w=egret.MainContext.instance.stage.stageWidth,this.h=egret.MainContext.instance.stage.stageHeight,this.bg.graphics.beginFill(0,.2),this.bg.graphics.drawRect(0,0,this.w,this.h),this.bg.graphics.endFill(),this.bg.width=this.w,this.bg.height=this.h,this.addChild(this.bg),this.touchEnabled=!0,this.waitImg=new egret.Bitmap,this.waitImg.texture=RES.getRes("loadingCircle_png"),this.addChild(this.waitImg),this.waitImg.x=this.w/2,this.waitImg.y=this.h/2,this.waitImg.anchorOffsetX=this.waitImg.width/2,this.waitImg.anchorOffsetY=this.waitImg.height/2,EffectUtils.rotationEffect(this.waitImg,1e3)},t}(egret.Sprite);__reflect(WaitPanel.prototype,"WaitPanel");var GameConfig=function(){function e(){}return Object.defineProperty(e,"curStage",{get:function(){return egret.MainContext.instance.stage},enumerable:!0,configurable:!0}),Object.defineProperty(e,"curWidth",{get:function(){return egret.MainContext.instance.stage.stageWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e,"curHeight",{get:function(){return egret.MainContext.instance.stage.stageHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e,"gameInterval",{get:function(){return RES.getRes("config_json").gameInterval},enumerable:!0,configurable:!0}),Object.defineProperty(e,"initialVelocity",{get:function(){return RES.getRes("config_json").initialVelocity},enumerable:!0,configurable:!0}),Object.defineProperty(e,"props",{get:function(){return RES.getRes("config_json").props},enumerable:!0,configurable:!0}),Object.defineProperty(e,"oauthUrl",{get:function(){return RES.getRes("config_json").oauthUrl},enumerable:!0,configurable:!0}),Object.defineProperty(e,"checkChanceUrl",{get:function(){return RES.getRes("config_json").checkChanceUrl},enumerable:!0,configurable:!0}),Object.defineProperty(e,"saveResultUrl",{get:function(){return RES.getRes("config_json").saveResultUrl},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isRegistedUrl",{get:function(){return RES.getRes("config_json").isRegistedUrl},enumerable:!0,configurable:!0}),Object.defineProperty(e,"userRegisterUrl",{get:function(){return RES.getRes("config_json").userRegisterUrl},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onShareUrl",{get:function(){return RES.getRes("config_json").onShareUrl},enumerable:!0,configurable:!0}),Object.defineProperty(e,"getRankUrl",{get:function(){return RES.getRes("config_json").getRankUrl},enumerable:!0,configurable:!0}),Object.defineProperty(e,"getSignPackageUrl",{get:function(){return RES.getRes("config_json").getSignPackageUrl},enumerable:!0,configurable:!0}),Object.defineProperty(e,"honoraryTitle",{get:function(){return RES.getRes("config_json").honoraryTitle},enumerable:!0,configurable:!0}),Object.defineProperty(e,"grade",{get:function(){return RES.getRes("config_json").grade},enumerable:!0,configurable:!0}),Object.defineProperty(e,"seal",{get:function(){return RES.getRes("config_json").seal},enumerable:!0,configurable:!0}),Object.defineProperty(e,"Vehicle",{get:function(){return RES.getRes("config_json").Vehicle},enumerable:!0,configurable:!0}),Object.defineProperty(e,"rule",{get:function(){return RES.getRes("config_json").rule},enumerable:!0,configurable:!0}),Object.defineProperty(e,"debug",{get:function(){return RES.getRes("config_json").debug},enumerable:!0,configurable:!0}),Object.defineProperty(e,"jumpUrl",{get:function(){return RES.getRes("config_json").jumpUrl},enumerable:!0,configurable:!0}),Object.defineProperty(e,"journey",{get:function(){return RES.getRes("config_json").journey},enumerable:!0,configurable:!0}),Object.defineProperty(e,"getUserInfoUrl",{get:function(){var e=RES.getRes("config_json").getUserInfoUrl;return e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"tools",{get:function(){var e=RES.getRes("config_json").tools;return e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"oauthOrg",{get:function(){var e=RES.getRes("config_json").oauthOrg;return e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"shareTitle",{get:function(){return RES.getRes("config_json").shareTitle},enumerable:!0,configurable:!0}),Object.defineProperty(e,"shareContent",{get:function(){return RES.getRes("config_json").shareContent},enumerable:!0,configurable:!0}),Object.defineProperty(e,"shareImgUrl",{get:function(){return RES.getRes("config_json").shareImgUrl},enumerable:!0,configurable:!0}),Object.defineProperty(e,"shareUrl",{get:function(){return RES.getRes("config_json").shareUrl},enumerable:!0,configurable:!0}),e.THM_VERSION="0.1.5",e.RES_VERSION="0.1.5",e.isnative=egret.Capabilities.runtimeType==egret.RuntimeType.NATIVE?1:0,e.TextColors={white:16777215,milkWhite:16511407,grayWhite:13547170,yellow:16776960,lightYellow:16765813,orangeYellow:16750848,red:15799040,green:58624,blue:1742039,grayBlue:3101047,purple:15284466,pink:16724016,black:3026221,golden:16766720},e.LabelFontSize={littleSize:12,middleSize:18,normalSize:24,bigSize:36},e}();__reflect(GameConfig.prototype,"GameConfig");var GameNotify=function(){function e(){}return e.SWITCH_SCENE="SWITCH_SCENE",e.ON_REGISTER_USER="ON_REGISTER_USER",e.ON_FINDCP="ON_FINDCP",e.UPDATE_QUESTION="UPDATE_QUESTION",e.LOGIN_SUCCESS="LOGIN_SUCCESS",e.LOGIN_FAIL="LOGIN_FAIL",e.REGISTER_SUCCESS="REGISTER_SUCCESS",e.REGISTER_FAIL="REGISTER_FAIL",e}();__reflect(GameNotify.prototype,"GameNotify");var PanelNotify=function(){function e(){}return e.OPEN_NO_CHANCE="NO_CHANCE",e.CLOSE_NO_CHANCE="CLOSE_NO_CHANCE",e.OPEN_RULE="OPEN_RULE",e.CLOSE_RULE="CLOSE_RULE",e.OPEN_RANk="OPEN_RANk",e.CLOSE_RANk="CLOSE_RANk",e.OPEN_REGISTER="OPEN_REGISTER",e.CLOSE_REGISTER="CLOSE_REGISTER",e.OPEN_SHARE="OPEN_SHARE",e.CLOSE_SHARE="CLOSE_SHARE",e}();__reflect(PanelNotify.prototype,"PanelNotify");var PopType=function(){function e(){}return e.LEFTIN="game.PageLeftIn",e.RIGHTIN="game.PageRightIn",e.TOPIN="game.PageTopIn",e.BOTTOMIN="game.PageBottomIn",e.ALPHAIN="game.PageAlphaIn",e.EJECTIN="game.PageScaleIn",e.LEFTOUT="game.PageLeftOut",e.RIGHTOUT="game.PageRightOut",e.TOPOUT="game.PageTopOut",e.BOTTOMOUT="game.PageBottomOut",e.ALPHAOUT="game.PageAlphaOut",e.EJECTOUT="game.PageScaleOut",e}();__reflect(PopType.prototype,"PopType");var SceneNotify=function(){function e(){}return e.BEGIN="begin",e.CONNECT_GAME="connect_game",e.OPEN_HOME="SceneNotify_OPEN_HOME",e.CLOSE_HOME="SceneNotify_CLOSE_HOME",e.OPEN_GAME="OPEN_GAME",e.CLOSE_GAME="CLOSE_GAME",e.OPEN_INDEX="OPEN_INDEX",e.CLOSE_INDEX="CLOSE_INDEX",e.OPEN_ACHEIVE="OPEN_ACHEIVE",e.CLOSE_ACHEIVE="CLOSE_ACHEIVE",e.OPEN_RIGISTER="OPEN_RIGISTER",e.CLOSE_RIGISTER="CLOSE_RIGISTER",e.OPEN_RESULT1="OPEN_RESULT1",e.CLOSE_RESULT1="CLOSE_RESULT1",e.CLOSE_RESULT2="CLOSE_RESULT2",e.OPEN_RESULT2="OPEN_RESULT2",e.OPEN_PHOTOTIPS="OPEN_PHOTOTIPS",e.CLOSE_PHOTOTIPS="CLOSE_PHOTOTIPS",e}();__reflect(SceneNotify.prototype,"SceneNotify");var game;!function(e){var t=function(t){function n(){return t.call(this)||this}return __extends(n,t),n.getInstance=function(){return null==this.instance&&(this.instance=new n),this.instance},n.prototype.initializeController=function(){t.prototype.initializeController.call(this),this.registerCommand(n.STARTUP,e.StartupCommand)},n.prototype.startUp=function(e){this.sendNotification(n.STARTUP,e),this.removeCommand(n.STARTUP)},n.STARTUP="startup",n}(puremvc.Facade);e.AppFacade=t,__reflect(t.prototype,"game.AppFacade",["puremvc.IFacade","puremvc.INotifier"])}(game||(game={}));var game;!function(e){var t=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.execute=function(e){(new GameCommand).register()},t}(puremvc.SimpleCommand);e.ControllerPrepCommand=t,__reflect(t.prototype,"game.ControllerPrepCommand",["puremvc.ICommand","puremvc.INotifier"])}(game||(game={}));var game;!function(e){var t=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.execute=function(e){this.facade.registerProxy(new GameVOProxy)},t}(puremvc.SimpleCommand);e.ModelPrepCommand=t,__reflect(t.prototype,"game.ModelPrepCommand",["puremvc.ICommand","puremvc.INotifier"])}(game||(game={}));var game;!function(e){var t=function(t){function n(){return t.call(this)||this}return __extends(n,t),n.prototype.initializeMacroCommand=function(){this.addSubCommand(e.ControllerPrepCommand),this.addSubCommand(e.ModelPrepCommand),this.addSubCommand(e.ViewPrepCommand)},n}(puremvc.MacroCommand);e.StartupCommand=t,__reflect(t.prototype,"game.StartupCommand")}(game||(game={}));var game;!function(e){var t=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.execute=function(e){},t}(puremvc.SimpleCommand);e.ViewPrepCommand=t,__reflect(t.prototype,"game.ViewPrepCommand",["puremvc.ICommand","puremvc.INotifier"])}(game||(game={}));var GameCommand=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.register=function(){this.facade.registerCommand(GameNotify.REGISTER_SUCCESS,t),this.facade.registerCommand(GameNotify.REGISTER_FAIL,t),this.facade.registerCommand(GameNotify.LOGIN_SUCCESS,t),this.facade.registerCommand(GameNotify.LOGIN_FAIL,t)},t.prototype.execute=function(e){var t=e.getBody();switch(e.getName()){case GameNotify.LOGIN_SUCCESS:this.onLoginSuccess(t);break;case GameNotify.LOGIN_FAIL:this.onLoginFail(t);break;case GameNotify.REGISTER_SUCCESS:this.onRegisterSucc(t);break;case GameNotify.REGISTER_FAIL:this.onRegisterFail(t)}},t.prototype.onLoginFail=function(e){var t=e.returnCode;10009==t?game.AppFacade.getInstance().sendNotification(SceneNotify.OPEN_RESULT2):alert("账号密码不正确")},t.prototype.onLoginSuccess=function(e){if(egret.log("LOGIN_SUCCESS"),e.data){var t=e.data;game.AppFacade.getInstance().sendNotification(SceneNotify.OPEN_RESULT1,t)}else game.AppFacade.getInstance().sendNotification(SceneNotify.OPEN_RIGISTER)},t.prototype.onRegisterSucc=function(e){if(egret.log("register onRegisterSucc"),e.data){var t=e.data;game.AppFacade.getInstance().sendNotification(SceneNotify.OPEN_RESULT1,t)}else game.AppFacade.getInstance().sendNotification(SceneNotify.OPEN_RESULT2)},t.prototype.onRegisterFail=function(e){egret.log("onRegisterFail")},t.NAME="GameCommand",t}(puremvc.SimpleCommand);__reflect(GameCommand.prototype,"GameCommand",["puremvc.ICommand","puremvc.INotifier"]);var GameReqs;!function(e){function t(){var e=this;return new Promise(function(t){return __awaiter(e,void 0,void 0,function(){var e,n,i,o,r;return __generator(this,function(a){switch(a.label){case 0:return e="openId="+P.getGameVOProxy().openId,n=P.getGameVOProxy().openId+"|SHUHEKEJI",i="&sign="+Tools.madeMd5(n),o=GameConfig.checkChanceUrl+e+i,[4,Http.getInstance().httpReq(egret.HttpMethod.GET,o)];case 1:return r=a.sent(),t(r),[2]}})})})}function n(){var e=this;return new Promise(function(t){return __awaiter(e,void 0,void 0,function(){var e,n,i,o,r,a,s,c,u,h;return __generator(this,function(l){switch(l.label){case 0:return e=P.getGameVOProxy().openId,n=P.getGameVOProxy().nickName,i=P.getGameVOProxy().headImgUrl,o=P.getGameVOProxy().costTimes,r=P.getGameVOProxy().isbind,a="openId="+e+"&wxName="+n+"&wxPhoto="+i+"&time="+o+"&bindFlag="+r,s=e+"|"+decodeURIComponent(n)+"|"+i+"|"+o+"|"+r+"|SHUHEKEJI",c="&sign="+Tools.madeMd5(s),u=GameConfig.saveResultUrl+a+c,[4,Http.getInstance().httpReq(egret.HttpMethod.GET,u)];case 1:return h=l.sent(),t(h),[2]}})})})}function i(){var e=this;return new Promise(function(t){return __awaiter(e,void 0,void 0,function(){var e,n,i,o,r,a;return __generator(this,function(s){switch(s.label){case 0:return e=P.getGameVOProxy().openId,n="openId="+e,i=e+"|SHUHEKEJI",o="&sign="+Tools.madeMd5(i),r=GameConfig.isRegistedUrl+n+o,[4,Http.getInstance().httpReq(egret.HttpMethod.GET,r)];case 1:return a=s.sent(),t(a),[2]}})})})}function o(){var e=this;return new Promise(function(t){return __awaiter(e,void 0,void 0,function(){var e,n,i,o,r,a,s,c;return __generator(this,function(u){switch(u.label){case 0:return e=P.getGameVOProxy().openId,n=P.getGameVOProxy().userName,i=P.getGameVOProxy().userTel,o="openId="+e+"&userName="+n+"&userTel="+i,r=e+"|"+n+"|"+i+"|SHUHEKEJI",a="&sign="+Tools.madeMd5(r),s=GameConfig.userRegisterUrl+o+a,[4,Http.getInstance().httpReq(egret.HttpMethod.GET,s)];case 1:return c=u.sent(),t(c),[2]}})})})}function r(e){var t=this;return new Promise(function(n){return __awaiter(t,void 0,void 0,function(){var t,i,o,r,a,s;return __generator(this,function(c){switch(c.label){case 0:return t=P.getGameVOProxy().openId,i="openId="+t+"&type="+e,o=t+"|"+e+"|SHUHEKEJI",r="&sign="+Tools.madeMd5(o),a=GameConfig.onShareUrl+i+r,[4,Http.getInstance().httpReq(egret.HttpMethod.GET,a)];case 1:return s=c.sent(),n(s),[2]}})})})}function a(){var e=this;return new Promise(function(t){return __awaiter(e,void 0,void 0,function(){var e,n,i,o,r,a;return __generator(this,function(s){switch(s.label){case 0:return e=P.getGameVOProxy().openId,n="openId="+e,i=e+"|SHUHEKEJI",o="&sign="+Tools.madeMd5(i),r=GameConfig.getRankUrl+n+o,[4,Http.getInstance().httpReq(egret.HttpMethod.GET,r)];case 1:return a=s.sent(),t(a),[2]}})})})}function s(){var e=this;return new Promise(function(t){return __awaiter(e,void 0,void 0,function(){var e,n,i;return __generator(this,function(o){switch(o.label){case 0:return e="accountId=ynhtfwh&location="+encodeURIComponent(location.href.split("#")[0]),n=GameConfig.getSignPackageUrl+e,[4,Http.getInstance().httpReq(egret.HttpMethod.GET,n)];case 1:return i=o.sent(),t(i),[2]}})})})}function c(){var e=this;return new Promise(function(t){return __awaiter(e,void 0,void 0,function(){var e,n,i;return __generator(this,function(o){switch(o.label){case 0:return e="accountId=ynhtfwh&url_flag="+encodeURIComponent(location.href.split("#")[0]),n=GameConfig.oauthUrl+e,[4,Http.getInstance().httpReq(egret.HttpMethod.GET,n)];case 1:return i=o.sent(),t(i),[2]}})})})}function u(){var e=this;return new Promise(function(t){return __awaiter(e,void 0,void 0,function(){var e,n,i;return __generator(this,function(o){switch(o.label){case 0:return e="openid="+P.getGameVOProxy().openId,n=GameConfig.getUserInfoUrl+e,[4,Http.getInstance().httpReq(egret.HttpMethod.GET,n)];case 1:return i=o.sent(),t(i),[2]}})})})}e.checkChance=t,e.saveResult=n,e.isRegisted=i,e.userRegister=o,e.onShare=r,e.getRank=a,e.getSignPackage=s,e.getOpenId=c,e.getUserInfo=u}(GameReqs||(GameReqs={}));var P;!function(e){function t(){return game.AppFacade.getInstance().retrieveProxy(GameVOProxy.NAME)}e.getGameVOProxy=t}(P||(P={}));var AssetAdapter=function(){function e(){}return e.prototype.getAsset=function(e,t,n){function i(i){t.call(n,i,e)}if(RES.hasRes(e)){var o=RES.getRes(e);o?i(o):RES.getResAsync(e,i,this)}else RES.getResByUrl(e,i,this,RES.ResourceItem.TYPE_IMAGE)},e}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var GameVOProxy=function(e){function t(){var n=e.call(this,t.NAME)||this;return n.vo=new GameVO,n}return __extends(t,e),Object.defineProperty(t.prototype,"openId",{get:function(){return this.vo.openId},set:function(e){console.log("set openid",e),this.vo.openId=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nickName",{get:function(){return this.vo.nickName},set:function(e){this.vo.nickName=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headImgUrl",{get:function(){return this.vo.headImgUrl},set:function(e){this.vo.headImgUrl=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"costTimes",{get:function(){return this.vo.costTimes},set:function(e){this.vo.costTimes=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showTimes",{get:function(){return this.vo.showTimes},set:function(e){this.vo.showTimes=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sign",{get:function(){return this.vo.sign},set:function(e){this.vo.sign=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userName",{get:function(){return this.vo.userName},set:function(e){this.vo.userName=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userTel",{get:function(){return this.vo.userTel},set:function(e){this.vo.userTel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasChance",{get:function(){return this.vo.hasChance},set:function(e){this.vo.hasChance=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isbind",{get:function(){return this.vo.isbind},set:function(e){this.vo.isbind=e},enumerable:!0,configurable:!0}),t.prototype.costTimeToShowTime=function(){var e=this.vo.costTimes;e>=0&&25>=e?this.vo.showTimes=Math.floor(6*this.vo.costTimes)+"\b秒":e>25&&50>=e?this.vo.showTimes=Math.floor(1.2*this.vo.costTimes)+"分钟":e>50&&70>=e?this.vo.showTimes=Math.floor(.4*this.vo.costTimes)+"小时":e>70&&80>=e?this.vo.showTimes=Math.floor(.5*this.vo.costTimes)+"天":e>80&&90>=e?this.vo.showTimes=Math.floor(.2*this.vo.costTimes)+"月":this.vo.showTimes=Math.floor(.2*this.vo.costTimes)+"年"},t.NAME="GameVOProxy",t}(ResourceProxyBase);__reflect(GameVOProxy.prototype,"GameVOProxy");var GameVO=function(){function e(){this.showTimes="10秒",this.hasChance=!1}return e}();__reflect(GameVO.prototype,"GameVO");var game;!function(e){var t=function(){function e(){}return e.getInstance=function(){return this.Ins||(this.Ins=new e),this.Ins},e.prototype.init=function(){this.sceneLayer=new eui.UILayer,this.viewLayer=new eui.UILayer,this.panelLayer=new eui.UILayer,this.maskLayer=new eui.UILayer,this.sceneLayer.touchThrough=!0,this.viewLayer.touchThrough=!0,this.panelLayer.touchThrough=!0,this.maskLayer.touchThrough=!0,this.sceneLayer.touchEnabled=!1,this.viewLayer.touchEnabled=!1,this.panelLayer.touchEnabled=!1,this.maskLayer.touchEnabled=!1;var e=egret.MainContext.instance.stage;e.addChild(this.sceneLayer),e.addChild(this.viewLayer),e.addChild(this.panelLayer),e.addChild(this.maskLayer)},e.SCENE=1,e.VIEW=2,e.PANEL=3,e.MASK=4,e}();e.LayerManager=t,__reflect(t.prototype,"game.LayerManager")}(game||(game={}));var game;!function(e){var t=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.register=function(){},t.prototype.execute=function(e){e.getBody()},t.NAME="MainManager",t}(puremvc.SimpleCommand);e.MainManager=t,__reflect(t.prototype,"game.MainManager",["puremvc.ICommand","puremvc.INotifier"])}(game||(game={}));var game;!function(e){var t=function(){function t(){this.darkSprite=new egret.Sprite,this.darkSprite.graphics.clear(),this.darkSprite.graphics.beginFill(0,.3),this.darkSprite.graphics.drawRect(0,0,GameConfig.curWidth,GameConfig.curHeight),this.darkSprite.graphics.endFill(),this.darkSprite.width=GameConfig.curWidth,this.darkSprite.height=GameConfig.curHeight,this.darkSprite.touchEnabled=!0,this.viewDarkSprite=new egret.Sprite,this.viewDarkSprite.graphics.clear(),this.viewDarkSprite.graphics.beginFill(0,.3),this.viewDarkSprite.graphics.drawRect(0,0,GameConfig.curWidth,GameConfig.curHeight),this.viewDarkSprite.graphics.endFill(),this.viewDarkSprite.width=GameConfig.curWidth,this.viewDarkSprite.height=GameConfig.curHeight,this.viewDarkSprite.touchEnabled=!0}return t.getInstance=function(){return this.ins||(this.ins=new t),this.ins},t.prototype.changeScene=function(t,n){void 0===n&&(n="");var i=e.LayerManager.getInstance().sceneLayer;i.addChild(t),n&&this.play(t,n)},t.prototype.changeView=function(t,n,i){void 0===n&&(n=""),void 0===i&&(i=!0);var o=e.LayerManager.getInstance().viewLayer;i&&!this.viewDarkSprite.parent&&o.addChild(this.viewDarkSprite),o.addChild(t),n&&this.play(t,n)},t.prototype.changePanel=function(t,n,i){void 0===n&&(n=""),void 0===i&&(i=!0);var o=e.LayerManager.getInstance().panelLayer;i&&!this.darkSprite.parent&&o.addChild(this.darkSprite),o.addChild(t),n&&this.play(t,n)},t.prototype.hidePanel=function(e,t){void 0===t&&(t=""),Tools.removeFromParent(this.darkSprite),t?(console.log("@######"),this.play(e,t)):(Tools.removeFromParent(e),e=null)},t.prototype.play=function(e,t,n){void 0===n&&(n=null);var i=egret.getDefinitionByName(t),o=new i;o&&o.switching(e,Tools.removeFromParent,this,n)},t}();e.UIManager=t,__reflect(t.prototype,"game.UIManager")}(game||(game={}));var GameObject=function(e){function t(t){var n=e.call(this)||this;return n.$Htype=0,n.initUi(t),n.$Htype=t,n}return __extends(t,e),Object.defineProperty(t.prototype,"Htype",{get:function(){return this.$Htype},set:function(e){this.$Htype=e},enumerable:!0,configurable:!0}),t.prototype.initUi=function(e){var t;switch(e){case-1:var n=RandomUtils.limitInteger(0,2);t=Tools.createBitmapByName("game_obj"+n+"_png"),t.anchorOffsetX=t.width/2,t.anchorOffsetY=t.height/2,t.width=1.2*t.width,t.height=1.2*t.height,this.addChild(t);break;case 1:console.log("1111");var n=RandomUtils.limitInteger(0,3);t=Tools.createBitmapByName("score_item_1_"+n+"_png"),t.anchorOffsetX=t.width/2,t.anchorOffsetY=t.height/2,this.addChild(t);break;case 2:console.log("2222"),t=Tools.createBitmapByName("score_item_2_png"),t.anchorOffsetX=t.width/2,t.anchorOffsetY=t.height/2,this.addChild(t);break;case 3:console.log("333"),t=Tools.createBitmapByName("score_item_3_png"),t.anchorOffsetX=t.width/2,t.anchorOffsetY=t.height/2,this.addChild(t);break;case 4:console.log("333"),t=Tools.createBitmapByName("score_item_4_png"),t.anchorOffsetX=t.width/2,t.anchorOffsetY=t.height/2,this.addChild(t)}},t.prototype.addText=function(e){var t=Tools.createBitmapByName(e);this.addChild(t),t.x=5,t.y=6},t.prototype.onDestroy=function(){this.parent&&this.parent.removeChild(this)},t.prototype.onCreate=function(){},t}(egret.Sprite);__reflect(GameObject.prototype,"GameObject");var RankItem=function(e){function t(){var t=e.call(this)||this;return t.skinName="skin.RankItem",t}return __extends(t,e),t.prototype.childrenCreated=function(){var t=this;e.prototype.childrenCreated.call(this),egret.setTimeout(function(){Number(t.data.rank)<4&&Number(t.data.rank)>0?t.icon.source=RES.getRes("rank"+Number(t.data.rank)+"_png"):t.icon.visible=!1,1==t.data.bindFlag&&(t.bind_flag.visible=!0)},this,50)},t}(eui.ItemRenderer);__reflect(RankItem.prototype,"RankItem",["eui.IItemRenderer","eui.UIComponent","egret.DisplayObject"]);var StateButtonEff=function(e){function t(){var t=e.call(this)||this;return t._bg=new egret.Bitmap,t.state=1,t}return __extends(t,e),t.prototype.create=function(e,t,n){this._angel=n,this._img=e,this._img1=t,this.updateState(1),this.addChild(this._bg),this.anchorOffsetX=this._bg.width/2,this.anchorOffsetY=this._bg.height/2,this.touchEnabled=!0,this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.btnClick,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.btnClick,this)},t.prototype.updateState=function(e){this.state=e,1==this.state?this._bg.texture=RES.getRes(this._img):this._bg.texture=RES.getRes(this._img1)},t.prototype.btnClick=function(e){var t=e.currentTarget;e.type==egret.TouchEvent.TOUCH_BEGIN?(egret.Tween.removeTweens(t),egret.Tween.get(t).to({rotation:this._angel,scaleX:.8,scaleY:.8},300)):e.type==egret.TouchEvent.TOUCH_END&&(egret.Tween.removeTweens(t),egret.Tween.get(t).to({rotation:0,scaleX:1,scaleY:1},300))},t.create=function(e,n,i){var o=new t;return o.create(e,n,i),o},t}(egret.Sprite);__reflect(StateButtonEff.prototype,"StateButtonEff");var BaseMediator=function(e){function t(t,n){void 0===t&&(t=""),void 0===n&&(n=null);var i=e.call(this,t,n)||this;return i.w=0,i.h=0,i.w=GameConfig.curWidth,i.h=GameConfig.curHeight,i}return __extends(t,e),t.prototype.showUI=function(e,t,n,i){switch(void 0===e&&(e=""),void 0===n&&(n=game.LayerManager.PANEL),void 0===i&&(i=!0),this.show(),n){case game.LayerManager.SCENE:game.UIManager.getInstance().changeScene(this.getViewComponent(),e);break;case game.LayerManager.VIEW:game.UIManager.getInstance().changeView(this.getViewComponent(),e,i);break;case game.LayerManager.PANEL:game.UIManager.getInstance().changePanel(this.getViewComponent(),e,i);break;case game.LayerManager.MASK:}},t.prototype.show=function(){},t.prototype.hide=function(){},t.prototype.hideUI=function(e){void 0===e&&(e=""),this.hide(),game.UIManager.getInstance().hidePanel(this.getViewComponent(),e),this.destroy()},t.prototype.destroy=function(){},t.isInitialized=!1,t.isPopUp=!1,t}(puremvc.Mediator);__reflect(BaseMediator.prototype,"BaseMediator",["puremvc.IMediator","puremvc.INotifier"]);var KaiJiangItem=function(e){function t(){var t=e.call(this)||this;return t.once(eui.UIEvent.COMPLETE,t.onComplete,t),t.skinName="KaiJiangItemSkin",t}return __extends(t,e),t.prototype.onComplete=function(){this.cacheAsBitmap=!0;var e=this;setTimeout(function(){var t=parseInt(e.data.period);t%2==0&&(e.bg.visible=!1)},100)},t}(eui.ItemRenderer);__reflect(KaiJiangItem.prototype,"KaiJiangItem");var LoadingUI=function(e){function t(){var t=e.call(this)||this;return t.createView(),t}return __extends(t,e),t.prototype.createView=function(){new SoundManager;this.textField=new egret.TextField,this.addChild(this.textField),this.textField.text="0%",this.textField.y=518-this.textField.height/2,this.textField.x=320-this.textField.width/2,this.textField.textColor=0},t.prototype.setProgress=function(e,t){var n=Math.floor(100*e/t);this.textField.text=n+"%"},t}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI");var Page1=function(e){function t(){var t=e.call(this)||this;return t.count=0,t.config={lineHeigth:42,lineNum:0,displayHeight:779,displayNum:20},t.istheFirst=!0,t.buttonArray=[],t.headArray=[],t.listArray=[],t.once(eui.UIEvent.COMPLETE,t.onComplete,t),t.skinName="Page1Skin",t}return __extends(t,e),t.prototype.onComplete=function(e){return __awaiter(this,void 0,void 0,function(){var e,t;return __generator(this,function(n){switch(n.label){case 0:return this.buttonArray.push(this.select_kaijaing),this.buttonArray.push(this.select_jibengzhoushi),this.buttonArray.push(this.select_hezhizhoushi),this.buttonArray.push(this.select_lengre),this.headArray.push(this.kajiang_head),this.headArray.push(this.jibengzhoushi_head),this.headArray.push(this.hezhizhoushi_head),this.headArray.push(this.lengre_head),this.listArray.push(this.kaijiangList),this.listArray.push(this.jjibengList),this.listArray.push(this.hezhiList),this.listArray.push(this.lengreList),this.initButton(),[4,this.createDemoData()];case 1:return e=n.sent(),t=this,t.updataKaiJiangList(e),this.myscroller.addEventListener(eui.UIEvent.CHANGE_END,this.onChangeEnd,this),this.myscroller.addEventListener(eui.UIEvent.CHANGE_START,this.onChangeStart,this),this.myscroller.addEventListener(eui.UIEvent.CHANGE,this.onChange,this),[2]}})})},t.prototype.onChangeStart=function(e){console.log("滚动开始！")},t.prototype.updateList=function(e,t){if(console.log("scrolldis",e),e<=this.config.lineHeigth)return this.myscroller.viewport.scrollV=0,this.kaijiangList.getChildAt(0).visible=!0,void this.mygroup.validateNow();
if(e>this.config.lineHeigth){var n=Math.ceil(e/this.config.lineHeigth)-1,i=n+20;console.log(n,i)}for(var o=0;o<this.config.lineNum;o++)o>=n&&i>=o?this.kaijiangList.getChildAt(o).visible=!0:this.kaijiangList.getChildAt(o).visible=!1},t.prototype.onChange=function(e){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(t){return e=this.myscroller.viewport.scrollV,this.updateList(e,this.config.lineNum*this.config.lineHeigth),[2]})})},t.prototype.onChangeEnd=function(e){return __awaiter(this,void 0,void 0,function(){var e,t,n;return __generator(this,function(i){switch(i.label){case 0:return this.myscroller.viewport.scrollV+this.myscroller.height>=this.myscroller.viewport.contentHeight?(console.log("滚动到底部了"),this.waitpanel=new egret.Bitmap(RES.getRes("loadingCircle_png")),this.waitpanel.x=(GameConfig.curWidth-this.waitpanel.width)/2,this.waitpanel.y=GameConfig.curHeight-this.waitpanel.height-30,this.mygroup.addChild(this.waitpanel),this.waitpanel.anchorOffsetX=this.waitpanel.width/2,this.waitpanel.anchorOffsetY=this.waitpanel.height/2,EffectUtils.rotationEffect(this.waitpanel,1e3),[4,this.createDemoData()]):[3,2];case 1:for(e=i.sent(),t=0;t<e.length;t++)n=e[t],this.kaijiangArrayCollection.addItem(n);this.waitpanel&&this.mygroup.removeChild(this.waitpanel),i.label=2;case 2:return[2]}})})},t.prototype.createDemoData=function(){var e=this;return new Promise(function(t){var n,i=[];n=0==e.count?40:e.count+40;for(var o=e.count;n>o;o++){var r={};r.period=o.toString(),r.winnernumber="123",r.total="999",r.daxiao="小",r.danshuang="双",i.push(r),e.count++,e.config.lineNum++}t(i)})},t.prototype.onTimer=function(e){this.upDatePage()},t.prototype.analysisData=function(){},t.prototype.updataSaizi=function(e,t,n){if(this.thewinnerNum1==e&&this.thewinnerNum2==t,this.thewinnerNum3!=n){this.thewinnerNum1=e,this.thewinnerNum2=t,this.thewinnerNum3=n;var i=RES.getRes("saizi_"+e.toString()+"_png"),o=RES.getRes("saizi_"+t.toString()+"_png"),r=RES.getRes("saizi_"+n.toString()+"_png");this.saizi_1.source=i,this.saizi_2.source=o,this.saizi_3.source=r}},t.prototype.initPage=function(){},t.prototype.updataKaiJiangList=function(e){this.kaijiangArrayCollection=new eui.ArrayCollection(e),this.kaijiangList.dataProvider=this.kaijiangArrayCollection,this.kaijiangList.itemRenderer=KaiJiangItem,this.myscroller.verticalScrollBar.autoVisibility=!1,this.myscroller.horizontalScrollBar.autoVisibility=!1,this.myscroller.scrollPolicyH=eui.ScrollPolicy.OFF;this.myscroller.bounces=!0},t.prototype.updataJiBengList=function(){},t.prototype.updataLengReList=function(){},t.prototype.updataHeZhiList=function(){},t.prototype.upDatePage=function(){},t.prototype.initButton=function(){this.btn_kaijiang.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouch,this),this.btn_jibengzhoushi.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouch,this),this.btn_hezhizhoushi.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouch,this),this.btn_lengre.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouch,this)},t.prototype.onTouch=function(e){switch(e.target){case this.btn_kaijiang:this.setButtonColor(),this.select_kaijaing.textColor=GameConfig.TextColors.orangeYellow,this.setHeadVisibel(),this.kajiang_head.visible=!0,this.setListVisible(),this.kaijiangList.visible=!0,this.myscroller.scrollPolicyH=eui.ScrollPolicy.OFF;break;case this.btn_jibengzhoushi:this.setButtonColor(),this.select_hezhizhoushi.textColor=GameConfig.TextColors.orangeYellow,this.setHeadVisibel(),this.jibengzhoushi_head.visible=!0,this.setListVisible(),this.jjibengList.visible=!0,this.myscroller.scrollPolicyH=eui.ScrollPolicy.OFF;break;case this.btn_hezhizhoushi:this.setButtonColor(),this.select_jibengzhoushi.textColor=GameConfig.TextColors.orangeYellow,this.setHeadVisibel(),this.hezhizhoushi_head.visible=!0,this.setListVisible(),this.hezhiList.visible=!0;break;case this.btn_lengre:this.setButtonColor(),this.select_lengre.textColor=GameConfig.TextColors.orangeYellow,this.setHeadVisibel(),this.lengre_head.visible=!0,this.setListVisible(),this.lengreList.visible=!0,this.myscroller.scrollPolicyV=eui.ScrollPolicy.OFF,this.myscroller.scrollPolicyH=eui.ScrollPolicy.OFF}},t.prototype.setButtonColor=function(){for(var e=0;e<this.buttonArray.length;e++)this.buttonArray[e].textColor=16777215},t.prototype.setHeadVisibel=function(){for(var e=0;e<this.headArray.length;e++)this.headArray[e].visible=!1;this.myscroller.scrollPolicyV=eui.ScrollPolicy.AUTO,this.myscroller.scrollPolicyH=eui.ScrollPolicy.AUTO},t.prototype.setListVisible=function(){for(var e=0;e<this.listArray.length;e++)this.listArray[e].visible=!1;this.myscroller.stopAnimation(),this.myscroller.viewport.scrollV=0,this.myscroller.viewport.scrollH=0},t.prototype.toTime=function(e){console.log(e);var t=Math.floor(e/60),n=Math.floor(e%60);if(t>9)var i=t.toString()+" : ";else var i="0"+t.toString()+" : ";if(n>9)var o=n.toString();else var o="0"+n.toString();return i+o},t}(eui.Component);__reflect(Page1.prototype,"Page1");var Test=function(e){function t(){var t=e.call(this)||this;return t.startPoint=new egret.Point,t.endPoint=new egret.Point,t.skinName="skin.Test",t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.litScroller.scrollPolicyH=eui.ScrollPolicy.OFF},t.prototype.onTouchBegin=function(e){this.startPoint.x=e.stageX,this.startPoint.y=e.stageY},t.prototype.onTouchMove=function(e){console.log(e.stageX),this.bigScroller.viewport.scrollH=this.bigScroller.viewport.scrollH+e.stageX-this.startPoint.x},t.prototype.onTouchEnd=function(e){},t}(eui.Component);__reflect(Test.prototype,"Test");var game;!function(e){var t=function(){function e(){}return e.durationIn=300,e.easeIn=null,e.durationOut=300,e.easeOut=null,e}();e.PanelSwitch=t,__reflect(t.prototype,"game.PanelSwitch")}(game||(game={}));var game;!function(e){var t=function(){function t(){}return t.prototype.switching=function(e,t,n,i){if(e){var o=1;e.alpha=0,this.doAnim(e,o)}},t.prototype.doAnim=function(t,n,i,o){Tools.stop(t);var r=egret.Tween.get(t);e.PanelSwitch.easeIn?r.to({alpha:n},e.PanelSwitch.durationIn,e.PanelSwitch.easeIn).call(function(){Tools.stop(t),i&&(o?i.call(o,t):i())}):r.to({alpha:n},e.PanelSwitch.durationIn).call(function(){Tools.stop(t),i&&(o?i.call(o,t):i())})},t}();e.PageAlphaIn=t,__reflect(t.prototype,"game.PageAlphaIn",["game.IPanelSwitch"])}(game||(game={}));var game;!function(e){var t=function(){function t(){}return t.prototype.switching=function(e,t,n,i){if(e){var o=e.y+e.anchorOffsetY;e.y=egret.MainContext.instance.stage.stageHeight+e.anchorOffsetY,this.doAnim(e,o)}},t.prototype.doAnim=function(t,n,i,o){Tools.stop(t);var r=egret.Tween.get(t);e.PanelSwitch.easeIn?r.to({y:n},e.PanelSwitch.durationIn,e.PanelSwitch.easeIn).call(function(){Tools.stop(t),i&&(o?i.call(o,t):i())}):r.to({y:n},e.PanelSwitch.durationIn).call(function(){Tools.stop(t),i&&(o?i.call(o,t):i())})},t}();e.PageBottomIn=t,__reflect(t.prototype,"game.PageBottomIn",["game.IPanelSwitch"])}(game||(game={}));var game;!function(e){var t=function(){function t(){}return t.prototype.switching=function(e,t,n,i){if(e){var o=e.x+e.anchorOffsetX;e.x=-e.width+e.anchorOffsetX,this.doAnim(e,o)}},t.prototype.doAnim=function(t,n,i,o){Tools.stop(t);var r=egret.Tween.get(t);e.PanelSwitch.easeIn?r.to({x:n},e.PanelSwitch.durationIn,e.PanelSwitch.easeIn).call(function(){Tools.stop(t),i&&(o?i.call(o,t):i())}):r.to({x:n},e.PanelSwitch.durationIn).call(function(){Tools.stop(t),i&&(o?i.call(o,t):i())})},t}();e.PageLeftIn=t,__reflect(t.prototype,"game.PageLeftIn",["game.IPanelSwitch"])}(game||(game={}));var game;!function(e){var t=function(){function t(){}return t.prototype.switching=function(e,t,n,i){if(e){var o=e.x+e.anchorOffsetX;e.x=egret.MainContext.instance.stage.stageWidth+e.anchorOffsetX,this.doAnim(e,o)}},t.prototype.doAnim=function(t,n,i,o){Tools.stop(t);var r=egret.Tween.get(t);e.PanelSwitch.easeIn?r.to({x:n},e.PanelSwitch.durationIn,e.PanelSwitch.easeIn).call(function(){Tools.stop(t),i&&(o?i.call(o,t):i())}):r.to({x:n},e.PanelSwitch.durationIn).call(function(){Tools.stop(t),i&&(o?i.call(o,t):i())})},t}();e.PageRightIn=t,__reflect(t.prototype,"game.PageRightIn",["game.IPanelSwitch"])}(game||(game={}));var game;!function(e){var t=function(){function t(){}return t.prototype.switching=function(e,t,n,i){e&&(Tools.center(e),e.scaleX=e.scaleY=.5,this.doAnim(e))},t.prototype.doAnim=function(t,n,i){Tools.stop(t);var o=egret.Tween.get(t);e.PanelSwitch.easeIn?o.to({scaleX:1,scaleY:1},e.PanelSwitch.durationIn,e.PanelSwitch.easeIn).call(function(){Tools.stop(t),n&&(i?n.call(i,t):n())}):o.to({scaleX:1,scaleY:1},e.PanelSwitch.durationIn).call(function(){Tools.stop(t),n&&(i?n.call(i,t):n())})},t}();e.PageScaleIn=t,__reflect(t.prototype,"game.PageScaleIn",["game.IPanelSwitch"])}(game||(game={}));var game;!function(e){var t=function(){function t(){}return t.prototype.switching=function(e,t,n,i){if(e){var o=e.y+e.anchorOffsetY;e.y=-e.height+e.anchorOffsetY,this.doAnim(e,o)}},t.prototype.doAnim=function(t,n,i,o){Tools.stop(t);var r=egret.Tween.get(t);e.PanelSwitch.easeIn?r.to({y:n},e.PanelSwitch.durationIn,e.PanelSwitch.easeIn).call(function(){Tools.stop(t),i&&(o?i.call(o,t):i())}):r.to({y:n},e.PanelSwitch.durationIn).call(function(){Tools.stop(t),i&&(o?i.call(o,t):i())})},t}();e.PageTopIn=t,__reflect(t.prototype,"game.PageTopIn",["game.IPanelSwitch"])}(game||(game={}));var game;!function(e){var t=function(){function t(){}return t.prototype.switching=function(e,t,n,i){if(e){var o=0;this.doAnim(e,o,t,n)}},t.prototype.doAnim=function(t,n,i,o){Tools.stop(t);var r=egret.Tween.get(t);e.PanelSwitch.easeIn?r.to({alpha:n},e.PanelSwitch.durationIn,e.PanelSwitch.easeIn).call(function(){Tools.stop(t),i&&(o?i.call(o,t):i())}):r.to({alpha:n},e.PanelSwitch.durationIn).call(function(){Tools.stop(t),i&&(o?i.call(o,t):i())})},t}();e.PageAlphaOut=t,__reflect(t.prototype,"game.PageAlphaOut",["game.IPanelSwitch"])}(game||(game={}));var game;!function(e){var t=function(){function t(){}return t.prototype.switching=function(e,t,n,i){if(e){var o=egret.MainContext.instance.stage.stageHeight+e.anchorOffsetY;this.doAnim(e,o,t,n)}},t.prototype.doAnim=function(t,n,i,o){Tools.stop(t);var r=egret.Tween.get(t);e.PanelSwitch.easeOut?r.to({y:n},e.PanelSwitch.durationOut,e.PanelSwitch.easeOut).call(function(){Tools.stop(t),i&&(o?i.call(o,t):i())}):r.to({y:n},e.PanelSwitch.durationOut).call(function(){Tools.stop(t),i&&(o?i.call(o,t):i())})},t}();e.PageBottomOut=t,__reflect(t.prototype,"game.PageBottomOut",["game.IPanelSwitch"])}(game||(game={}));var game;!function(e){var t=function(){function t(){}return t.prototype.switching=function(e,t,n,i){if(e){var o=-e.width+e.anchorOffsetY;this.doAnim(e,o,t,n)}},t.prototype.doAnim=function(t,n,i,o){Tools.stop(t);var r=egret.Tween.get(t);e.PanelSwitch.easeOut?r.to({x:n},e.PanelSwitch.durationOut,e.PanelSwitch.easeOut).call(function(){Tools.stop(t),i&&(o?i.call(o,t):i())}):r.to({x:n},e.PanelSwitch.durationOut).call(function(){Tools.stop(t),i&&(o?i.call(o,t):i())})},t}();e.PageLeftOut=t,__reflect(t.prototype,"game.PageLeftOut",["game.IPanelSwitch"])}(game||(game={}));var game;!function(e){var t=function(){function t(){}return t.prototype.switching=function(e,t,n,i){if(e){var o=egret.MainContext.instance.stage.stageWidth+e.anchorOffsetX;this.doAnim(e,o,t,n)}},t.prototype.doAnim=function(t,n,i,o){Tools.stop(t);var r=egret.Tween.get(t);e.PanelSwitch.easeOut?r.to({x:n},e.PanelSwitch.durationOut,e.PanelSwitch.easeOut).call(function(){Tools.stop(t),i&&(o?i.call(o,t):i())}):r.to({x:n},e.PanelSwitch.durationOut).call(function(){Tools.stop(t),i&&(o?i.call(o,t):i())})},t}();e.PageRightOut=t,__reflect(t.prototype,"game.PageRightOut",["game.IPanelSwitch"])}(game||(game={}));var game;!function(e){var t=function(){function t(){}return t.prototype.switching=function(e,t,n,i){e&&this.doAnim(e,t,n)},t.prototype.doAnim=function(t,n,i){Tools.stop(t);var o=egret.Tween.get(t);e.PanelSwitch.easeOut?o.to({scaleX:0,scaleY:0},e.PanelSwitch.durationOut,e.PanelSwitch.easeOut).call(function(){Tools.stop(t),n&&(i?n.call(i,t):n())}):o.to({scaleX:0,scaleY:0},e.PanelSwitch.durationOut).call(function(){Tools.stop(t),n&&(i?n.call(i,t):n())})},t}();e.PageScaleOut=t,__reflect(t.prototype,"game.PageScaleOut",["game.IPanelSwitch"])}(game||(game={}));var game;!function(e){var t=function(){function t(){}return t.prototype.switching=function(e,t,n,i){if(e){var o=-e.height+e.anchorOffsetY;this.doAnim(e,o,t,n)}},t.prototype.doAnim=function(t,n,i,o){Tools.stop(t);var r=egret.Tween.get(t);e.PanelSwitch.easeOut?r.to({y:n},e.PanelSwitch.durationOut,e.PanelSwitch.easeOut).call(function(){Tools.stop(t),i&&(o?i.call(o,t):i())}):r.to({y:n},e.PanelSwitch.durationOut).call(function(){Tools.stop(t),i&&(o?i.call(o,t):i())})},t}();e.PageTopOut=t,__reflect(t.prototype,"game.PageTopOut",["game.IPanelSwitch"])}(game||(game={}));var EffectUtils;!function(e){function t(e,t){if(void 0===t&&(t=1e3),null==this.rotationArr&&(this.rotationArr=[]),!this.rotationArr[e.hashCode]){null!=this.rotationArr[e.hashCode]&&this.rotationArr[e.hashCode]||(this.rotationArr[e.hashCode]=!0);var n=function(){this.rotationArr[e.hashCode]&&null!=e&&(e.rotation=0,egret.Tween.get(e).to({rotation:360},t).call(n,this))};e.rotation=0,egret.Tween.get(e).to({rotation:360},t).call(n,this)}}function n(e){null==this.rotationArr&&(this.rotationArr=[]),this.rotationArr[e.hashCode]=!1}e.rotationEffect=t,e.removeRotationEffect=n}(EffectUtils||(EffectUtils={}));var FlyGolds=function(){function e(){}return e.prototype.init=function(){},e.prototype.fly=function(e,t,n,i,o){return void 0===o&&(o=1),__awaiter(this,void 0,void 0,function(){var r,a,s;return __generator(this,function(c){for(r=function(o){var r=Tools.createBitmapByName("golds_png");Tools.center(r),game.LayerManager.getInstance().maskLayer.addChild(r),r.x=e+25-Math.round(50*Math.random()),r.y=t+25-Math.round(50*Math.random());var s=Math.round(200*Math.random());r.alpha=0,egret.Tween.get(r).to({alpha:1},s).to({x:n,y:i},600,egret.Ease.cubicOut),egret.setTimeout(function(){Tools.removeFromParent(r)},a,600+s)},a=this,s=0;o>s;++s)r(s);return[2]})})},e.Ins=new e,e}();__reflect(FlyGolds.prototype,"FlyGolds");var Global;!function(e){function t(){e.waitPanel=new WaitPanel(1),game.LayerManager.getInstance().maskLayer.removeChildren(),game.LayerManager.getInstance().maskLayer.addChild(e.waitPanel)}function n(){null!=e.waitPanel&&game.LayerManager.getInstance().maskLayer.contains(e.waitPanel)&&game.LayerManager.getInstance().maskLayer.removeChild(e.waitPanel)}function i(e){var t=new egret.HtmlTextParser;return t.parser(e)}function o(e){switch(e){case 0:return"零";case 1:return"一";case 2:return"二";case 3:return"三";case 4:return"四";case 5:return"五";case 6:return"六";case 7:return"七";case 8:return"八";case 9:return"九";default:console.log("default case")}}e.showWaitPanel=t,e.hideWaitPanel=n,e.getTextFlow=i,e.getNumber=o}(Global||(Global={}));var HeadImg=function(e){function t(n,i){void 0===i&&(i=!0);var o,r=e.call(this)||this;return o=n?n:t.RADIUS,r.bmp=new egret.Bitmap,r.addChild(r.bmp),r.bmp.width=r.bmp.height=2*o,r.bmp.x=r.bmp.y=-o,i&&(r.shpMask=new egret.Shape,r.shpMask.graphics.beginFill(16777215,1),r.shpMask.graphics.drawCircle(0,0,o),r.shpMask.graphics.endFill(),r.addChild(r.shpMask),r.bmp.mask=r.shpMask),r}return __extends(t,e),Object.defineProperty(t.prototype,"source",{get:function(){return this._source},set:function(e){this._source=e,RES.getResByUrl(e,this.compFunc,this,RES.ResourceItem.TYPE_IMAGE)},enumerable:!0,configurable:!0}),t.prototype.compFunc=function(e){this.bmp&&(this.bmp.texture=e)},Object.defineProperty(t.prototype,"texture",{get:function(){return this.bmp?this.bmp.texture:null},set:function(e){this.bmp&&(this.bmp.texture=e)},enumerable:!0,configurable:!0}),t.RADIUS=50,t}(egret.DisplayObjectContainer);__reflect(HeadImg.prototype,"HeadImg");var Http=function(){function e(){}return e.getInstance=function(){return this._instance?this._instance:(this._instance=new e,this._instance)},e.prototype.httpReq=function(e,t,n,i,o){return void 0===n&&(n=""),void 0===i&&(i="application/x-www-form-urlencoded"),void 0===o&&(o=egret.HttpResponseType.TEXT),new Promise(function(r,a){var s=n,c=new egret.HttpRequest;c.responseType=o,c.open(t,e),e==egret.HttpMethod.POST&&c.setRequestHeader("Content-Type",i),c.send(s),c.addEventListener(egret.Event.COMPLETE,function(e){var t=e.currentTarget,n=JSON.parse(t.response);r(n)},this)})},e}();__reflect(Http.prototype,"Http");var JsonpReq;!function(e){function t(e,t,o){i["call_"+this._regID]=t.bind(o),n(e,this._regID++)}function n(e,t){var n=document.createElement("script");n.src=e+"&callback=JsonpReq.completeCall.call_"+t,document.body.appendChild(n)}var i={};e.process=t}(JsonpReq||(JsonpReq={}));var JSSDK=function(e){function t(){var t=e.call(this)||this;return t.CLASS_NAME="JSSDK",t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t}return __extends(t,e),t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.onAddToStage=function(e){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),this.init()},Object.defineProperty(t.prototype,"Title",{get:function(){return this.title},set:function(e){this.title=e,this.getSignPackage()},enumerable:!0,configurable:!0}),t.prototype.setLink=function(){this.getSignPackage()},t.prototype.setLinkDefault=function(){this.getSignPackage()},Object.defineProperty(t.prototype,"Desc",{get:function(){return this.desc},set:function(e){this.desc=e,this.getSignPackage()},enumerable:!0,configurable:!0}),t.prototype.init=function(){egret.log("jssdkinit"),this.title=GameConfig.shareTitle,console.log(this.title),this.desc=GameConfig.shareContent,this.link=GameConfig.shareUrl,this.imgUrl=GameConfig.shareImgUrl;var e=encodeURIComponent(location.href.split("#")[0]);this.url="http://fs.mmh5.cn/weixin/wxShare.do?"+("&url="+e+"&appId=wx083ad84ec43358af"),this.getSignPackage2()},t.prototype.getSignPackage2=function(){return __awaiter(this,void 0,void 0,function(){var e,t,n,i;return __generator(this,function(o){switch(o.label){case 0:return[4,GameReqs.getSignPackage()];case 1:return e=o.sent(),0==e.retcode?(console.log(JSON.stringify(e)),this.signPackage=e,egret.log(JSON.stringify(this.signPackage)),this.getWeiXinConfig(),t=this,n=function(){egret.log("接jssdk成功！!!"),t.getWeiXinShareTimeline(),t.getWeiXinShareAppMessage()},i=function(e){t.init(),egret.log("jssdk链接失败!!!",e.toString())},wx.ready(n),wx.error(i)):this.getSignPackage2(),[2]}})})},t.prototype.getSignPackage=function(){var e=this,t=new egret.URLLoader,n=new egret.URLRequest(this.url);t.load(n),n.method=egret.URLRequestMethod.GET,t.addEventListener(egret.Event.COMPLETE,function(t){e.signPackage=JSON.parse(t.target.data),egret.log(e.signPackage.toString()),e.getWeiXinConfig();var n=e,i=function(){egret.log("接jssdk成功！!!"),n.getWeiXinShareTimeline(),n.getWeiXinShareAppMessage(),n.getWeiXinShareQQ(),n.getWeiXinShareWeiBo()},o=function(e){n.init(),egret.log("jssdk链接失败!!!",e.toString())};wx.ready(i),wx.error(o)},this)},t.prototype.getWeiXinConfig=function(){var e={};e.debug=!1,e.appId=this.signPackage.appId,e.timestamp=this.signPackage.timestamp,e.nonceStr=this.signPackage.nonceStr,e.signature=this.signPackage.signature,e.jsApiList=["checkJsApi","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","hideMenuItems","showMenuItems","hideAllNonBaseMenuItem","showAllNonBaseMenuItem","translateVoice","startRecord","stopRecord","playVoice","pauseVoice","stopVoice","uploadVoice","downloadVoice","chooseImage","previewImage","uploadImage","downloadImage","getNetworkType","openLocation","getLocation","hideOptionMenu","showOptionMenu","closeWindow","scanQRCode","chooseWXPay","openProductSpecificView","addCard","chooseCard","openCard"],wx.config(e)},t.prototype.getWeiXinShareTimeline=function(){var e=this,t=new BodyMenuShareTimeline;t.title=this.title,t.link=this.link,t.imgUrl=this.imgUrl,t.trigger=function(){},t.success=function(){return __awaiter(e,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:return[4,GameReqs.onShare(1)];case 1:return e=t.sent(),0==e.type&&alert("服务器异常"),[2]}})})},t.cancel=function(){},t.fail=function(e){},wx.onMenuShareTimeline(t)},t.prototype.getWeiXinShareAppMessage=function(){var e=this,t=new BodyMenuShareAppMessage;t.title=this.title,t.desc=this.desc,t.link=this.link,t.imgUrl=this.imgUrl,t.trigger=function(){},t.success=function(){return __awaiter(e,void 0,void 0,function(){var e;return __generator(this,function(t){return e=GameReqs.onShare(0),0==e.type&&alert("服务器异常"),[2]})})},t.cancel=function(){},t.fail=function(e){},wx.onMenuShareAppMessage(t)},t.prototype.getWeiXinShareQQ=function(){var e=new BodyMenuShareQQ;e.title=this.title,e.desc=this.desc,e.link=this.link,e.imgUrl=this.imgUrl,e.trigger=function(){},e.complete=function(e){},e.success=function(){},e.cancel=function(){},e.fail=function(e){},wx.onMenuShareQQ(e)},t.prototype.getWeiXinShareWeiBo=function(){var e=new BodyMenuShareWeibo;e.title=this.title,e.desc=this.desc,e.link=this.link,e.imgUrl=this.imgUrl,e.trigger=function(){},e.complete=function(e){},e.success=function(){},e.cancel=function(){},e.fail=function(e){},wx.onMenuShareWeibo(e)},t.prototype.getWeixinShowMenuItems=function(e){void 0===e&&(e=null);var t=["menuItem:share:appMessage","menuItem:share:timeline","menuItem:share:qq","menuItem:share:weiboApp","menuItem:favorite","menuItem:share:facebook","menuItem:share:QZone","menuItem:editTag","menuItem:delete","menuItem:copyUrl","menuItem:originPage","menuItem:readMode","menuItem:openWithQQBrowser","menuItem:openWithSafari","menuItem:share:email","menuItem:share:brand"];null!=e&&(t=e),wx.showMenuItems({menuList:t,success:function(e){},fail:function(e){}})},t.prototype.getWeixinHideMenuItems=function(e){void 0===e&&(e=null);var t=["menuItem:share:appMessage","menuItem:share:timeline","menuItem:share:qq","menuItem:share:weiboApp","menuItem:favorite","menuItem:share:facebook","menuItem:share:QZone","menuItem:editTag","menuItem:delete","menuItem:copyUrl","menuItem:originPage","menuItem:readMode","menuItem:openWithQQBrowser","menuItem:openWithSafari","menuItem:share:email","menuItem:share:brand"];null!=e&&(t=e),wx.hideMenuItems({menuList:t,success:function(e){},fail:function(e){}})},t}(egret.DisplayObjectContainer);__reflect(JSSDK.prototype,"JSSDK");var ObjectPool=function(){function e(){}return e}();__reflect(ObjectPool.prototype,"ObjectPool");var RandomUtils;!function(e){function t(e,t){e=Math.min(e,t),t=Math.max(e,t);var n=t-e;return e+Math.random()*n}function n(e,t){return Math.round(this.limit(e,t))}function i(e){var t=Math.floor(Math.random()*e.length);return e[t]}e.limit=t,e.limitInteger=n,e.randomArray=i}(RandomUtils||(RandomUtils={}));var SoundManager=function(){function e(){this.initMusic()}return e.prototype.initMusic=function(){if(e.soundBg=document.getElementById("bgMusic"),e.soundBg){this.createMusicBtn()}},e.prototype.createMusicBtn=function(){console.log("create music btn"),this.musicBtn=StateButtonEff.create("music2_png","music2_png",0),this.musicBtn.visible=!0,game.LayerManager.getInstance().maskLayer.addChild(this.musicBtn),this.musicBtn.x=590,this.musicBtn.y=45,egret.Tween.get(this.musicBtn,{loop:!0}).to({rotation:360},4e3),this.musicBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickMusicBtn,this)},e.prototype.onClickMusicBtn=function(t){1==this.musicBtn.state?(this.musicBtn.state=0,e.soundBg&&(e.soundBg.pause(),egret.Tween.removeTweens(this.musicBtn),this.musicBtn.rotation=0)):(this.musicBtn.state=1,e.soundBg&&(e.soundBg.play(),this.musicBtn.rotation=0,egret.Tween.get(this.musicBtn,{loop:!0}).to({rotation:360},4e3))),this.musicBtn.updateState(this.musicBtn.state)},e}();__reflect(SoundManager.prototype,"SoundManager");var game;!function(e){var t=function(){function t(){}return Object.defineProperty(t,"showTouchEffects",{get:function(){return this._showTouchEffects},set:function(e){this._showTouchEffects=e,e?GameConfig.curStage.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this):GameConfig.curStage.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"showBtnEffects",{get:function(){return this._showBtnEffects},set:function(e){this._showBtnEffects=e,e?(GameConfig.curStage.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),GameConfig.curStage.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onTouchRelease,this),GameConfig.curStage.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this)):(GameConfig.curStage.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),GameConfig.curStage.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onTouchRelease,this),GameConfig.curStage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this))},enumerable:!0,configurable:!0}),t.init=function(){this.showBtnEffects=!0,this.showTouchEffects=!0},t.onTouchTap=function(t){e.TouchEffects["do"](t.stageX,t.stageY)},t.onTouchBegin=function(e){"btn"==e.target.name&&(Tools.center(e.target),e.target.scaleX=e.target.scaleY=.95)},t.onTouchRelease=function(t){"btn"==t.target.name&&(t.target.scaleX=t.target.scaleY=1),this._showTouchEffects&&e.TouchEffects["do"](t.stageX,t.stageY)},t.onTouchEnd=function(e){"btn"==e.target.name&&(e.target.scaleX=e.target.scaleY=1)},t.TYPE_BUTTON="btn",t._showTouchEffects=!0,t._showBtnEffects=!0,t}();e.StageBtnUtils=t,__reflect(t.prototype,"game.StageBtnUtils")}(game||(game={}));var Tools;!function(e){function t(e){egret.Tween.removeTweens(e)}function n(e){e&&e.parent&&e.parent.removeChild(e)}function i(e){e.x-=e.anchorOffsetX,e.y-=e.anchorOffsetY,e.anchorOffsetX=e.width>>1,e.anchorOffsetY=e.height>>1,e.x+=e.anchorOffsetX,e.y+=e.anchorOffsetY}function o(e,t){void 0===t&&(t="png");var n=RES.getRes(e+"_json"),i=RES.getRes(e+"_"+t),o=new egret.MovieClipDataFactory(n,i),r=o.generateMovieClipData(e),a=new egret.MovieClip(r);return a}function r(e){var t=new egret.Bitmap,n=RES.getRes(e);return t.texture=n,t}function a(e){var t=RES.getRes(e),n=new egret.BitmapText;return n.font=t,n}function s(e,t,n){if(null==e)return"";var i="",o=typeof e;if("string"==o||"number"==o||"boolean"==o)i+="&"+t+"="+(null==n||n?encodeURIComponent(e):e);else for(var r in e){var a=null==t?r:t+(e instanceof Array?"["+r+"]":"."+r);i+=this.urlEncode(e[r],a,n)}return i}function c(e){return document.getElementById(e)}function u(){m=document.createElement("img"),m.className="qrcode",m.name="qrcode",m.src="resource/images/code.png",m.style.cssText="width: 27.3%;height: 16.89%;position: absolute;left:22%;top: 58.14%;",p=document.getElementById("gameDiv"),p.appendChild(m)}function h(){m&&m.parentNode.removeChild(m)}function l(e,t,n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3);var o="expires="+i.toUTCString();document.cookie=e+"="+t+"; "+o}function g(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var o=n[i];" "==o.charAt(0);)o=o.substring(1);if(-1!=o.indexOf(t))return o.substring(t.length,o.length)}return null}function f(e){return(new md5).hex_md5(e)}e.stop=t,e.removeFromParent=n,e.center=i,e.createMovieClip=o,e.createBitmapByName=r,e.createBitmapText=a,e.urlEncode=s,e.getElementById=c;var p,m;e.addQRcode=u,e.removeQRcode=h,e.setCookie=l,e.getCookie=g,e.madeMd5=f}(Tools||(Tools={}));var game;!function(e){var t=function(){function e(){}return e["do"]=function(e,t,n){for(var i=0;i<this._num;i++){var o,r=2*Math.PI*Math.random(),a=Math.sin(r)*this._starDis,s=Math.cos(r)*this._starDis,c=e+a,u=t+s,h=e+4*a,l=t+4*s,g=(this._size+this._size*Math.random(),new egret.Shape),f=5;if(o=n?n:RandomUtils.limit(0,16777215),Math.random()>.5){g.graphics.lineStyle(1,o),g.graphics.moveTo(f,0),g.graphics.beginFill(o),g.x=c,g.y=u;for(var p=1;11>p;p++){var m=f;p%2&&(m/=2);var r=2*Math.PI/10*p;g.graphics.lineTo(Math.cos(r)*m,Math.sin(r)*m)}}else f*=1.2,g.graphics.lineStyle(1,o),g.graphics.moveTo(0,-f),g.graphics.beginFill(o),g.x=c,g.y=u,g.graphics.drawArc(-f*Math.SQRT1_2,0,f,-Math.PI/2,Math.PI/2),g.graphics.drawArc(-f*(Math.SQRT1_2+1),0,Math.SQRT2*f,Math.PI/4,-Math.PI/4,!0);g.graphics.endFill(),egret.MainContext.instance.stage.addChild(g),egret.Tween.get(g).to({alpha:1,x:h,y:l,scaleX:.1,scaleY:.1,rotation:360},500).call(this.removeStar,this,[g])}},e.removeStar=function(e){egret.MainContext.instance.stage.removeChild(e)},e._size=2,e._num=10,e._starDis=10,e}();e.TouchEffects=t,__reflect(t.prototype,"game.TouchEffects")}(game||(game={}));